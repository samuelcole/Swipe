function Swipe(r,c){function z(){h=e.children;E=h.length;2>=h.length&&(c.continuous=!1);m=Array(h.length);d=r.getBoundingClientRect().width||r.offsetWidth;e.style.width=h.length*d+"px";for(var b=h.length;b--;){var p=h[b];p.style.width=d+"px";p.setAttribute("data-index",b);s.transitions&&(p.style.left=b*-d+"px",g(b,a>b?-d:a<b?d:0,0))}c.continuous&&s.transitions&&(g(f(a-1),-d,0),g(f(a+1),d,0));s.transitions||(e.style.left=a*-d+"px");F(a,h);r.style.visibility="visible"}function A(){c.continuous?y(a+
1):a<h.length-1&&y(a+1)}function f(b){return(h.length+b%h.length)%h.length}function y(b,p){if(a!=b){if(s.transitions){var q=Math.abs(a-b)/(a-b);if(c.continuous){var e=q,q=-m[f(b)]/d;q!==e&&(b=-q*h.length+b)}for(e=Math.abs(a-b)-1;e--;)g(f((b>a?b:a)-e-1),d*q,0);b=f(b);g(a,d*q,p||n);g(b,0,p||n);c.continuous&&g(f(b-q),-(d*q),0)}else b=f(b),J(a*-d,b*-d,p||n);a=b;w(c.callback&&c.callback(a,h[a]))}}function g(b,a,c){t(b,a,c);m[b]=a}function t(b,a,c){if(b=(b=h[b])&&b.style)b.webkitTransitionDuration=b.MozTransitionDuration=
b.msTransitionDuration=b.OTransitionDuration=b.transitionDuration=c+"ms",b.webkitTransform="translate("+a+"px,0)translateZ(0)",b.msTransform=b.MozTransform=b.OTransform="translateX("+a+"px)"}function J(b,d,f){if(f)var g=+new Date,k=setInterval(function(){var l=+new Date-g;l>f?(e.style.left=d+"px",u&&(B=setTimeout(A,u)),c.transitionEnd&&c.transitionEnd.call(event,a,h[a]),clearInterval(k)):e.style.left=(d-b)*(Math.floor(100*(l/f))/100)+b+"px"},4);else e.style.left=d+"px"}function F(b,a){var c=a.length;
for(a[b].style.visibility="visible";c--;)c===f(b)||c===f(b-1)||c===f(b+1)?a[c].style.visibility="visible":a[c].style.visibility="hidden"}function v(){u=0;clearTimeout(B)}var K=function(){},w=function(b){setTimeout(b||K,0)},s={addEventListener:!!window.addEventListener,touch:"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch,transitions:function(b){var a=["transitionProperty","WebkitTransition","MozTransition","OTransition","msTransition"],c;for(c in a)if(void 0!==b.style[a[c]])return!0;
return!1}(document.createElement("swipe"))};if(r){var e=r.children[0],h,m,d,E;c=c||{};var a=parseInt(c.startSlide,10)||0,n=c.speed||300;c.continuous=void 0!==c.continuous?c.continuous:!0;c.pastSlideEnd=void 0!==c.pastSlideEnd?c.pastSlideEnd:null;c.pastSlideStart=void 0!==c.pastSlideStart?c.pastSlideStart:null;c.pastResistance=c.pastResistance||100;var C=!1,u=c.auto||0,B,G,H,I,k,D,x,l={handleEvent:function(a){switch(a.type){case "touchstart":this.start(a);break;case "touchmove":this.move(a);break;
case "touchend":w(this.end(a));break;case "webkitTransitionEnd":case "msTransitionEnd":case "oTransitionEnd":case "otransitionend":case "transitionend":w(this.transitionEnd(a));break;case "resize":w(z.call())}c.stopPropagation&&a.stopPropagation()},start:function(a){a=a.touches[0];G=a.pageX;H=a.pageY;I=+new Date;D=k=x=void 0;e.addEventListener("touchmove",this,!1);e.addEventListener("touchend",this,!1)},move:function(b){if(!(1<b.touches.length||b.scale&&1!==b.scale)){c.disableScroll&&b.preventDefault();
var e=b.touches[0];k=e.pageX-G;D=e.pageY-H;"undefined"==typeof x&&(x=!!(x||Math.abs(k)<Math.abs(D)));x||C||(b.preventDefault(),v(),c.continuous?(t(f(a-1),k+m[f(a-1)],0),t(a,k+m[a],0),t(f(a+1),k+m[f(a+1)],0)):(k/=!a&&0<k||a==h.length-1&&0>k?Math.abs(k)/d+1:1,t(a-1,k+m[a-1],0),t(a,k+m[a],0),t(a+1,k+m[a+1],0),!a&&k>c.pastResistance&&c.pastSlideStart&&(w(c.pastSlideStart),c.pastSlideStart=null),a==h.length-1&&k<-1*c.pastResistance&&c.pastSlideEnd&&(w(c.pastSlideEnd),c.pastSlideEnd=null)))}},end:function(b){b=
250>Number(+new Date-I)&&20<Math.abs(k)||Math.abs(k)>d/2;var p=!a&&0<k||a==h.length-1&&0>k;c.continuous&&(p=!1);var q=0>k;x||C||(b&&!p?(q?(c.continuous?(g(f(a-1),-d,0),g(f(a+2),d,0)):g(a-1,-d,0),g(a,m[a]-d,n),g(f(a+1),m[f(a+1)]-d,n),a=f(a+1)):(c.continuous?(g(f(a+1),d,0),g(f(a-2),-d,0)):g(a+1,d,0),g(a,m[a]+d,n),g(f(a-1),m[f(a-1)]+d,n),a=f(a-1)),c.callback&&c.callback(a,h[a])):c.continuous?(g(f(a-1),-d,n),g(a,0,n),g(f(a+1),d,n)):(g(a-1,-d,n),g(a,0,n),g(a+1,d,n)));e.removeEventListener("touchmove",
l,!1);e.removeEventListener("touchend",l,!1)},transitionEnd:function(b){F(a,h);parseInt(b.target.getAttribute("data-index"),10)==a&&(u&&(B=setTimeout(A,u)),c.transitionEnd&&c.transitionEnd.call(b,a,h[a]))}};z();u&&(B=setTimeout(A,u));s.addEventListener?(s.touch&&e.addEventListener("touchstart",l,!1),s.transitions&&(e.addEventListener("webkitTransitionEnd",l,!1),e.addEventListener("msTransitionEnd",l,!1),e.addEventListener("oTransitionEnd",l,!1),e.addEventListener("otransitionend",l,!1),e.addEventListener("transitionend",
l,!1)),window.addEventListener("resize",l,!1)):window.onresize=function(){z()};return{setup:function(){z()},slide:function(a,c){v();y(a,c)},prev:function(){v();c.continuous?y(a-1):a&&y(a-1)},next:function(){v();A()},freeze:function(){v();C=!0},unfreeze:function(){v();C=!1},getPos:function(){return a},getNumSlides:function(){return E},kill:function(){v();e.style.width="auto";e.style.left=0;for(var a=h.length;a--;){var c=h[a];c.style.width="100%";c.style.left=0;s.transitions&&t(a,0,0)}s.addEventListener?
(e.removeEventListener("touchstart",l,!1),e.removeEventListener("webkitTransitionEnd",l,!1),e.removeEventListener("msTransitionEnd",l,!1),e.removeEventListener("oTransitionEnd",l,!1),e.removeEventListener("otransitionend",l,!1),e.removeEventListener("transitionend",l,!1),window.removeEventListener("resize",l,!1)):window.onresize=null}}}}(window.jQuery||window.Zepto)&&function(r){r.fn.Swipe=function(c){return this.each(function(){r(this).data("Swipe",new Swipe(r(this)[0],c))})}}(window.jQuery||window.Zepto);