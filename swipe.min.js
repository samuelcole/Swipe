function Swipe(p,c){function y(){g=d.children;C=g.length;2>=g.length&&(c.continuous=!1);m=Array(g.length);e=p.getBoundingClientRect().width||p.offsetWidth;d.style.width=g.length*e+"px";for(var b=g.length;b--;){var q=g[b];q.style.width=e+"px";q.setAttribute("data-index",b);r.transitions&&(q.style.left=b*-e+"px",k(b,a>b?-e:a<b?e:0,0));g[b].style.visibility="hidden"}c.continuous&&r.transitions&&(k(f(a-1),-e,0),k(f(a+1),e,0));r.transitions||(d.style.left=a*-e+"px");g[a].style.visibility="visible";g[f(a+
1)].style.visibility="visible";g[f(a-1)].style.visibility="visible";p.style.visibility="visible"}function z(){c.continuous?x(a+1):a<g.length-1&&x(a+1)}function f(b){return(g.length+b%g.length)%g.length}function x(b,q){if(a!=b){if(r.transitions){var d=Math.abs(a-b)/(a-b);if(c.continuous){var h=d,d=-m[f(b)]/e;d!==h&&(b=-d*g.length+b)}for(h=Math.abs(a-b)-1;h--;)k(f((b>a?b:a)-h-1),e*d,0);b=f(b);k(a,e*d,q||n);k(b,0,q||n);c.continuous&&k(f(b-d),-(e*d),0)}else b=f(b),I(a*-e,b*-e,q||n);a=b;E();v(c.callback&&
c.callback(a,g[a]))}}function k(b,a,c){s(b,a,c);m[b]=a}function s(b,a,c){if(b=(b=g[b])&&b.style)b.webkitTransitionDuration=b.MozTransitionDuration=b.msTransitionDuration=b.OTransitionDuration=b.transitionDuration=c+"ms",b.webkitTransform="translate("+a+"px,0)translateZ(0)",b.msTransform=b.MozTransform=b.OTransform="translateX("+a+"px)"}function I(b,e,f){if(f)var h=+new Date,k=setInterval(function(){var l=+new Date-h;l>f?(d.style.left=e+"px",u&&(A=setTimeout(z,u)),c.transitionEnd&&c.transitionEnd.call(event,
a,g[a]),clearInterval(k)):d.style.left=Math.floor(l/f*100)/100*(e-b)+b+"px"},4);else d.style.left=e+"px"}function E(){var b=C;for(g[a].style.visibility="visible";b--;)b===f(a)||b===f(a-1)||b===f(a+1)?g[b].style.visibility="visible":g[b].style.visibility="hidden"}function t(){u=0;clearTimeout(A)}var J=function(){},v=function(b){setTimeout(b||J,0)},r={addEventListener:!!window.addEventListener,touch:"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch,transitions:function(b){var a=
["transitionProperty","WebkitTransition","MozTransition","OTransition","msTransition"],c;for(c in a)if(void 0!==b.style[a[c]])return!0;return!1}(document.createElement("swipe"))};if(p){var d=p.children[0],g,m,e,C;c=c||{};var a=parseInt(c.startSlide,10)||0,n=c.speed||300;c.continuous=void 0!==c.continuous?c.continuous:!0;c.pastSlideEnd=void 0!==c.pastSlideEnd?c.pastSlideEnd:null;c.pastSlideStart=void 0!==c.pastSlideStart?c.pastSlideStart:null;c.pastResistance=c.pastResistance||100;var B=!1,u=c.auto||
0,A,F,G,H,h,D,w,l={handleEvent:function(b){switch(b.type){case "touchstart":this.start(b);break;case "touchmove":this.move(b);break;case "touchend":v(this.end(b));break;case "webkitTransitionEnd":case "msTransitionEnd":case "oTransitionEnd":case "otransitionend":case "transitionend":v(this.transitionEnd(b));break;case "resize":v(y)}c.stopPropagation&&b.stopPropagation()},start:function(b){b=b.touches[0];F=b.pageX;G=b.pageY;H=+new Date;D=h=w=void 0;d.addEventListener("touchmove",this,!1);d.addEventListener("touchend",
this,!1)},move:function(b){if(!(1<b.touches.length||b.scale&&1!==b.scale)){c.disableScroll&&b.preventDefault();var d=b.touches[0];h=d.pageX-F;D=d.pageY-G;"undefined"==typeof w&&(w=!!(w||Math.abs(h)<Math.abs(D)));w||B||(b.preventDefault(),t(),c.continuous?(s(f(a-1),h+m[f(a-1)],0),s(a,h+m[a],0),s(f(a+1),h+m[f(a+1)],0)):(h/=!a&&0<h||a==g.length-1&&0>h?Math.abs(h)/e+1:1,s(a-1,h+m[a-1],0),s(a,h+m[a],0),s(a+1,h+m[a+1],0),!a&&h>c.pastResistance&&c.pastSlideStart&&(v(c.pastSlideStart),c.pastSlideStart=null),
a==g.length-1&&h<-1*c.pastResistance&&c.pastSlideEnd&&(v(c.pastSlideEnd),c.pastSlideEnd=null)))}},end:function(b){b=250>Number(+new Date-H)&&20<Math.abs(h)||Math.abs(h)>e/2;var q=!a&&0<h||a==g.length-1&&0>h;c.continuous&&(q=!1);var p=0>h;w||B||(b&&!q?(p?(c.continuous?(k(f(a-1),-e,0),k(f(a+2),e,0)):k(a-1,-e,0),k(a,m[a]-e,n),k(f(a+1),m[f(a+1)]-e,n),a=f(a+1)):(c.continuous?(k(f(a+1),e,0),k(f(a-2),-e,0)):k(a+1,e,0),k(a,m[a]+e,n),k(f(a-1),m[f(a-1)]+e,n),a=f(a-1)),E(),c.callback&&c.callback(a,g[a])):c.continuous?
(k(f(a-1),-e,n),k(a,0,n),k(f(a+1),e,n)):(k(a-1,-e,n),k(a,0,n),k(a+1,e,n)));d.removeEventListener("touchmove",l,!1);d.removeEventListener("touchend",l,!1)},transitionEnd:function(b){parseInt(b.target.getAttribute("data-index"),10)==a&&(u&&(A=setTimeout(z,u)),c.transitionEnd&&c.transitionEnd.call(b,a,g[a]))}};y();u&&(A=setTimeout(z,u));r.addEventListener?(r.touch&&d.addEventListener("touchstart",l,!1),r.transitions&&(d.addEventListener("webkitTransitionEnd",l,!1),d.addEventListener("msTransitionEnd",
l,!1),d.addEventListener("oTransitionEnd",l,!1),d.addEventListener("otransitionend",l,!1),d.addEventListener("transitionend",l,!1)),window.addEventListener("resize",l,!1)):window.onresize=function(){y()};return{setup:function(){y()},slide:function(b,a){t();x(b,a)},prev:function(){t();c.continuous?x(a-1):a&&x(a-1)},next:function(){t();z()},freeze:function(){t();B=!0},unfreeze:function(){t();B=!1},stop:function(){t()},getPos:function(){return a},getNumSlides:function(){return C},kill:function(){t();
d.style.width="auto";d.style.left=0;for(var a=g.length;a--;){var c=g[a];c.style.width="100%";c.style.left=0;r.transitions&&s(a,0,0)}r.addEventListener?(d.removeEventListener("touchstart",l,!1),d.removeEventListener("webkitTransitionEnd",l,!1),d.removeEventListener("msTransitionEnd",l,!1),d.removeEventListener("oTransitionEnd",l,!1),d.removeEventListener("otransitionend",l,!1),d.removeEventListener("transitionend",l,!1),window.removeEventListener("resize",l,!1)):window.onresize=null}}}}
var jsLib=window.jQuery||window.Zepto;jsLib&&function(p){p.fn.Swipe=function(c){return this.each(function(){p(this).data("Swipe",new Swipe(p(this)[0],c))})}}(jsLib);